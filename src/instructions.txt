DO NOT INCLUDE THIS FILE IN RELEASE
Word Wrap shortcut: Alt + Z

1. Compile the ReflectionUtils.kt:
    kotlinc src/wfg/reflection/ReflectionUtils.kt -d jars/libs/compiled/

2. Package it as a jar:
    jar cf jars/libs/reflection.jar -C jars/libs/compiled .

3. Delete the directory jars/libs/compiled/

4. Compile the main project. Navigate to Ltv_Economy and run:
    mvn clean package

Extra Instructions:

- Use VisualVM OQL Console to look for strings in the game to find and update broken obfuscated code
  -> select s from java.lang.String s where s.toString().contains("target_string")

- Add the prefix "Ltv" to classes who also have a vanilla counterpart. Like BaseIndustry and LtvBaseIndustry

- Standard porter message for AI agent:
  -> Create me a porter message with all the relevant info about what we were working on and the overall project. This chat is getting slow. Paragraph format.

LTV Economy is a deep overhaul of Starsector’s economic and colony simulation, replacing abstract income and demand with a real, unit-based system. Industries now consume and produce concrete commodity units tracked via CommodityStats, which also models imports, exports, storage, deficits, surpluses, and trade flows. Markets trade using real quantities through a pairing-score system, making money generation derivable from actual supply and demand rather than opaque formulas. Wages, worker assignment, and productivity are explicit, and vanilla modifiers are translated into meaningful LTV values. A new Manufacturing industry acts as a labor-heavy intermediary between extraction/refining and end industries.

The mod introduces a population simulation with four tracked values: health, happiness, social cohesion, and class consciousness. These are influenced by stability, wages, exploitation, policies, and cultural composition, and will later feed into events and market effects. Non-player markets assign workers using a two-stage simplex solver: first determining global output demand, then fairly distributing worker quotas across markets with constraints. Markets maintain real stockpiles, and the player can directly add or remove stored commodities via a new submarket.

A large amount of UI has been rewritten or extended using WrapUI. This includes a Global Commodity Flow panel showing sector-wide production and trade, heavily modified colony info screens, worker management panels, stockpile views, and new tooltips. A new “Economy” command-panel button opens a modular hub containing Global Commodity Flow, a Faction Administration panel, and space for future tutorials. The Faction Administration panel currently exposes player policies such as redistributing credits between player-faction markets, with settings stored in a dedicated PlayerFactionSettings container.

Faction-level credit redistribution exists to smooth out profitable and deficit markets without creating or destroying money; redistribution strength is capped and weighted by market size. Debt mechanics apply tiered debuffs to markets (stability, upkeep, immigration) based on negative credit thresholds, implemented cleanly via immutable tier records. Logging utilities like logAllInfo() in CommodityStats provide full consistency checks for flows, storage, and footprints and are now considered complete and stable.

The mod is intrusive by design, cannot be added or removed mid-save, and is incompatible with mods that heavily replace the colony info panel (e.g. Grand Colonies). It has been in development for ~7 months with ~300 hours invested. Documentation for modders exists via industry_config.json support, with dynamic fallback generation if not provided.

Credits are given to Lukas04, SirHartley, and rolfosian for reflection utilities, UI hooks, and helper classes. The forum page uses GitHub-hosted images and shields.io badges, with anchors in the README for attribution and AI-generated asset disclosure.